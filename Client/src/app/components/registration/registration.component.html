<mat-card>
  <mat-card-title>
    Register
  </mat-card-title>
  <form [formGroup]="registrationForm" (ngSubmit)="register()">
      <mat-form-field appearance="outline">
          <mat-label>Academy</mat-label>
          <input matInput placeholder="Academy Name" formControlName="username" [ngClass]="{ 'is-invalid': submitted && frm.username.errors }">
          <div *ngIf="submitted && frm.username.errors" class="invalid-feedback">
            <div *ngIf="frm.username.errors.required">Username is required</div>
        </div>
      </mat-form-field>
      <mat-form-field appearance="outline">
          <mat-label>First Name</mat-label>
          <input matInput placeholder="First Name" formControlName="username" [ngClass]="{ 'is-invalid': submitted && frm.username.errors }">
          <div *ngIf="submitted && frm.username.errors" class="invalid-feedback">
            <div *ngIf="frm.username.errors.required">Username is required</div>
        </div>
      </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Last Name</mat-label>
            <input matInput placeholder="First Name" formControlName="username" [ngClass]="{ 'is-invalid': submitted && frm.username.errors }">
            <div *ngIf="submitted && frm.username.errors" class="invalid-feedback">
              <div *ngIf="frm.username.errors.required">Username is required</div>
          </div>
      </mat-form-field>
  </form>
</mat-card>

<form (ngSubmit)="register()" [formGroup]="registrationForm" novalidate>
  <div class="form-group">
    <label>Email</label>
    <input type="text" name="email" class="form-control" placeholder="Enter your email" formControlName="email"
      autocomplete="off">
    <div class="alert alert-danger feedback"
      *ngIf="!registrationForm.controls['email'].valid && (registrationForm.controls['email'].dirty || registrationForm.controls['email'].touched)">
      <span *ngIf="registrationForm.controls['email'].errors.required">
        email is required
      </span>
    </div>
    <div class="alert alert-danger feedback"
      *ngIf="isemailAvailable && (registrationForm.controls['email'].dirty || registrationForm.controls['email'].touched)">
      email
      <strong>{{registrationForm.controls['email'].value}}</strong> is already taken.
    </div>
  </div>

  <div class="form-group">
    <label>First Name</label>
    <input type="text" name="firstName" class="form-control" placeholder="Enter your First Name"
      formControlName="firstName" autocomplete="off">
    <div class="alert alert-danger feedback"
      *ngIf="!registrationForm.controls['firstName'].valid && (registrationForm.controls['firstName'].dirty || registrationForm.controls['email'].touched)">
      <span *ngIf="registrationForm.controls['firstName'].errors.required">
        first name is required
      </span>
    </div>
  </div>

  <div class="form-group">
    <label>First Name</label>
    <input type="text" name="lastName" class="form-control" placeholder="Enter your First Name"
      formControlName="lastName" autocomplete="off">
    <div class="alert alert-danger feedback"
      *ngIf="!registrationForm.controls['lastName'].valid && (registrationForm.controls['lastName'].dirty || registrationForm.controls['email'].touched)">
      <span *ngIf="registrationForm.controls['lastName'].errors.required">
        last name is required
      </span>
    </div>
  </div>

  <div class="form-group">
    <label>Password</label>
    <input type="password" name="password" class="form-control" placeholder="Enter your Password"
      formControlName="password">
    <div class="feedback"
      *ngIf="!registrationForm.controls['password'].valid && (registrationForm.controls['password'].dirty || registrationForm.controls['password'].touched)">
      <span *ngIf="registrationForm.controls['password'].errors.required">
        Password is required
      </span>
      <span *ngIf="registrationForm.controls['password'].errors.minlength">
        Password must be 8 characters long, we need another {{registrationForm.controls['password'].errors.minlength.requiredLength
                        - registrationForm.controls['password'].errors.minlength.actualLength}} characters
      </span>
    </div>
  </div>

  <div class="form-group">
    <button class="btn btn-primary" [disabled]="!registrationForm.valid">Registration</button>
  </div>
</form>